---
title: "Student Survey Analysis"
author: "Julie Campbell"
date: October 15, 2022
output:
  
  pdf_document: default
---

```{r setup, include=FALSE}
library(ggm)

## Set the working directory to the root of your DSC 520 directory
setwd("C:/Users/jcamp/Documents/GitHub/dsc520")

## Load the `data/student-survey.csv` to
student_df <- read.csv("data/student-survey.csv")
```

## Background

This report details the research to investigate the question of "Is there a significant relationship between the amount of time spent reading and the time spent watching television?". Additional analysis was also done to determine if additional relationships were involved.

## Survey Data Covariance

Covariance is the measurement of the relationship between two variables to determine if the change in one variable is equal to the other. This allows us to evaluate the positive or negative value to describe the relationship. The covariance of the survey results are presented below.

```{r echo = FALSE}
cov(student_df)
```

The relationship between the sets of variables below shows a positive covariance in that they deviate in the same direction.

-   TimeTV and Happiness
-   TimeTV and Gender
-   Happiness and Gender

The relationship between the sets of variables below shows a negative covariance in that they deviate in different directions.

-   TimeTV and Time Reading
-   TimeReading and Happiness
-   TimeReading and Gender

## Data Measurement

The survey data variables hold numeric values to represent their value. TimeReading and TimeTV are measured in the number of hours of completing the activity. Happiness is measured on a 1-100 scale to represent the emotion. Gender allows a 0 or 1 value for female or male participants. Covariance is not a standardized measure and cannot be compared in an objective way. This requires both data sets to be measured in the same units. In order to express covariance in a standard unit of measurement, you can divide the correlation coefficient by the standard deviation.

## Survey Data Correlation

For this data set, the Pearson's correlation coefficient test was used since the time watching tv and the time reading distributions are approximately normal. Without additional data, I would suspect a negative correlation between time watching tv and time reading since leisure time is limited on an average day.

The correlation analysis of all variables:

```{r echo = FALSE}
# Correlation analysis of:
# All variables
cor(student_df, method = "pearson")
```

The correlation between time spent watching TV and reading:

```{r echo = FALSE}
# As single correlation between two a pair of variables
cor.test(student_df$TimeTV, student_df$TimeReading, method = "pearson")
```

The correlation between time spent watching TV and reading with the confidence level at 99%:

```{r echo = FALSE}
# Repeat your correlation test in step 2 but set the confident at 99%
cor.test(student_df$TimeTV, student_df$TimeReading, method = "pearson", conf.level = 0.99)
```

Using the calculations from the correlations above, a negative correlation is found between the time watching tv and time spent reading variables. Comparing the 95% and 99% confidence level data, the ranges do not cross 0 which validates the likelihood that it has a strong negative relationship. It also show a p value < .001.

## Survey Data Coefficient

The following is the survey data correlation coefficients:

```{r echo = FALSE}
# Calculate correlation coefficient 
cor(student_df)
```

The following is the survey data coefficient of determination:

```{r echo = FALSE}
# Calculate coefficient of determination
cor(student_df)^2
```

Based on the data above, it can be concluded that 18.9% of time reading and 40.5% of time watching tv contributed to the value of happiness score recorded by the survey. Gender appears to have a very small contribution the happiness score. The percentages found does not consider any additional external factors.

## Data Analysis

The data analysis above shows a negative correlation between participants reading and watching TV. It can be concluded that watching tv could be a factor in time spent reading.

## Partial Correlation

For the partial correlation, I took into consideration the relationship between watching tv and reading with the control happiness. Below is the results:

```{r echo = FALSE}
pcor(c("TimeTV","TimeReading","Happiness"), var(student_df))
```

While using happiness as a control, the time spent watching tv and the time spent reading still have a strong negative correlation. This demonstrates that level of happiness is mostly independent of how time is utilized.
